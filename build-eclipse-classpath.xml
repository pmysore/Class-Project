<?xml version="1.0"?>
<project default="eclipse-classpath" basedir=".">

	<property file="placeholder.build.properties"/>

	<path id="eclipse.ant.classpath">
		<fileset dir="${shared.lib}/ant-extensions">
			<include name="cooper-technical-ant-1.0.jar"/>
		</fileset>
	</path>

	<taskdef name="eclipseClasspath" classname="com.coopertechnical.ant.task.EclipseClasspath">
		<classpath>
			<path refid="eclipse.ant.classpath"/>
		</classpath>
	</taskdef>

	<target name="eclipse-classpath">
		<echo message="Copying current .classpath file to .classpath.old ..."/>
		<move file="${basedir}/.classpath" tofile="${basedir}/.classpath.old" failonerror="false"/>
		<eclipseClasspath templateFile="${shared.xml}/ant/build-eclipse-classpath.template" destFile=".classpath">
			<classpath refid="project.classpath"/>
		</eclipseClasspath>
	</target>

	<target name="eclipse-classpath-with-conf">
		<echo message="Copying current .classpath file to .classpath.old ..."/>
		<move file="${basedir}/.classpath" tofile="${basedir}/.classpath.old" failonerror="false"/>
		<eclipseClasspath templateFile="${shared.xml}/ant/build-eclipse-classpath-with-conf.template" destFile=".classpath">
			<classpath refid="project.classpath"/>
		</eclipseClasspath>
	</target>
	
	<target name="eclipse-classpath-with-projects">
		<echo message="Copying current .classpath file to .classpath.old ..."/>
		<move file="${basedir}/.classpath" tofile="${basedir}/.classpath.old" failonerror="false"/>
		<eclipseClasspath templateFile="${shared.xml}/ant/build-eclipse-classpath-with-conf.template" destFile=".classpath" replaceJarWithProject="true" >
			<classpath refid="project.classpath"/>
		</eclipseClasspath>
	</target>
</project>
